<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3CSJ6FJTBK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3CSJ6FJTBK');
</script>

<script type="text/javascript">
  var _iub = _iub || [];
  _iub.csConfiguration = {"siteId":3816955,"cookiePolicyId":74667122,"lang":"en","storage":{"useSiteId":true}};
  </script>
  <script type="text/javascript" src="https://cs.iubenda.com/autoblocking/3816955.js"></script>
  <script type="text/javascript" src="//cdn.iubenda.com/cs/gpp/stub.js"></script>
  <script type="text/javascript" src="//cdn.iubenda.com/cs/iubenda_cs.js" charset="UTF-8" async></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <title>Understanding Variable Declaration in Dart: var, final, and const</title> -->
    <style>
      body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
      }
      h1,
      h2 {
        color: #2c3e50;
      }
      code {
        background-color: #f4f4f4;
        padding: 2px 4px;
        border-radius: 4px;
      }
      pre {
        background-color: #f4f4f4;
        padding: 10px;
        border-radius: 4px;
        overflow-x: auto;
      }
      table {
        border-collapse: collapse;
        width: 100%;
        margin-bottom: 20px;
      }
      th,
      td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: #f2f2f2;
      }
    </style>
  </head>
  <>
    <h1>
      Understanding Variable Declaration in Dart: The Differences Between var, final,
      and const
    </h1>

    <p>
      Today, I will try to explain the differences between var, final, and
      const, and explore their different use cases to make our code more secure
      and efficient.
    </p>

    <h2>VAR</h2>
    <code>var numbers = [1, 2, 3];</code>
    <br>
    <code>numbers = [4, 5, 6];</code> // This will work
    <br>
    <code>numbers.add(7);</code>     // This will work
    <br>
    <br>

    <p>
      With var, you can reassign a new list to numbers, which creates a new
      object in memory. You can also modify the existing list by adding
      elements. This is because var allows you to both assign a new value and
      modify the current object.
    </p>
    <p>
      The main difference between var and final is that final does not let you
      reassign a new value, but it still allows updating the existing object's
      contents.
    </p>

    <h2>FINAL</h2>
    <code>final numbers = [1, 2, 3];</code>
    <br>
    <code>numbers = [4, 5, 6];</code> // Causes an error because we cannot assign a new list
    <br>
    <code>numbers.add(4);</code> // This will Works
    <br>
    <br>
    <p>
      With final, you cannot reassign numbers to a new list, as final prevents
      this reassignment. However, you can modify the contents of the existing
      list (i.e., adding new values). The final keyword means that the reference
      to the list is fixed, but the contents of the list can still be changed.
    </p>

    <h2>CONST</h2>
    <code>const numbers = [1, 2, 3];</code>
    <br>
    <code>numbers = [4, 5, 6];</code> // Causes an error
    <br>
    <code>numbers.add(7);</code> // Causes an error
    <br>
    <p>
      With const, you cannot reassign numbers or modify its contents. The entire
      object is fully immutable, meaning both the reference and the data are
      fixed.
    </p>

    <h2>How Memory Management Works with var, final, and const</h2>

    <h3>VAR Example</h3>
    <table>
      <tr>
        <th>Code</th>
        <th>Memory Address</th>
        <th>Value</th>
      </tr>
      <tr>
        <td><code>var numbers = [1, 2];</code></td>
        <td>A123</td>
        <td>[1, 2]</td>
      </tr>
      <tr>
        <td><code>numbers.add(3);</code></td>
        <td>A123</td>
        <td>[1, 2, 3]</td>
      </tr>
      <tr>
        <td><code>numbers = [3, 4];</code></td>
        <td>B456</td>
        <td>[3, 4]</td>
      </tr>
    </table>
    <p>
      With var, both the memory address and the value can change. When you
      assign a new value, the previous object stays in memory and becomes a
      candidate for garbage collection.
    </p>

    <h3>FINAL Example</h3>
    <table>
      <tr>
        <th>Code</th>
        <th>Memory Address</th>
        <th>Value</th>
      </tr>
      <tr>
        <td><code>final numbers = [1, 2];</code></td>
        <td>C123</td>
        <td>[1, 2]</td>
      </tr>
      <tr>
        <td><code>numbers.add(3);</code></td>
        <td>C123</td>
        <td>[1, 2, 3]</td>
      </tr>
    </table>
    <p>
      With final, you can change the internal values, but the memory address
      remains the same.
    </p>

    <h3>CONST Example</h3>
    <table>
      <tr>
        <th>Code</th>
        <th>Memory Address</th>
        <th>Value</th>
      </tr>
      <tr>
        <td><code>const numbers = [1, 2];</code></td>
        <td>D123</td>
        <td>[1, 2]</td>
      </tr>
    </table>
    <p>
      const is entirely immutable, meaning you cannot change either the memory
      address or the internal value.
    </p>

    <h1>When to Use var, final, and const</h1>
    <p>Let's analyze the most common use cases and best practices for each:</p>

    <h2>VAR</h2>
    <p>
      Use var when you know that the value of the variable can change during
      runtime, or when the value is unknown initially. It's ideal for dynamic
      data.
    </p>
    <code>var count = 0;</code>
    <br>
    <code>count = 10;</code> // Reassigning the value is allowed
    <p>
      Note: Try to minimize the use of var because it can make your code harder
      to understand and maintain, and may lead to type mismatches.
    </p>

    <h2>FINAL</h2>
    <p>
      Use final when you want to assign a variable only once but still want to
      modify the internal content of mutable objects like lists or maps.
    </p>
    <code>final name = 'John';</code> // Assigned once, cannot be changed
    <br>
    <code>final numbers = [1, 2, 3];</code>
    <br>
    <code>numbers.add(4);</code> // Allowed, as the list itself is not being reassigned
    <br>

    <p>
      Note: final is often used for configuration values that are assigned once
      and do not need to change.
    </p>

    <h2>CONST</h2>
    <p>
      Use const when you want to declare a value that you know will be constant
      and never change, even at compile time. It helps improve performance, as
      the value is allocated once and can be reused.
    </p>
    <code>const pi = 3.14;</code> // A compile-time constant
    <br>
    <code>const list = [1, 2, 3];</code> // Immutable list
    <p>Note: const is the most efficient but the least flexible option.</p>

    <h2>Summary</h2>
    <ul>
      <li>
        Use const whenever possible, as it makes the code more predictable and
        improves performance.
      </li>
      <li>
        Use final when you need to initialize a variable only once but might
        need to modify its internal state.
      </li>
      <li>Use var when the value is dynamic and can change during runtime.</li>
    </ul>
    <p>
      By following these rules, you can make your code more predictable,
      efficient, and less prone to bugs.
    </p>
  </body>
</html>
